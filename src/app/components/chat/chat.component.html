<h1 class="text-center">Mensajes</h1>
<hr>
<div class="d-flex flex-column" id="chatMessages">
    <div class="mw-80" *ngFor="let m of messages; let i = index" [class.align-self-start]="!m.me"
        [class.align-self-end]="m.me" [class.text-right]="m.me"
        [class.mt-3]="i === 0 ? false : messages[i - 1].from !== m.from">

        <span *ngIf="i === 0 ? true : messages[i - 1].from !== m.from" class="text-muted text-break">{{m.from}}:</span>
        <div class="rounded_xl mt-1 p-3 text-left" [class.bg-light]="m.me" [class.bg-success]="!m.me && !m.pm"
            [class.bg-danger]="!m.me && m.pm">
            <p class="text-white mb-0 text-break" [class.text-dark]="m.me">{{m.message}}</p>
        </div>
    </div>
</div>
<hr>
<form class="mt-3" (ngSubmit)="sendMessage()">
    <div class="input-group">
        <input class="form-control" type="text" [(ngModel)]="message" name="message" autofocus autocomplete="off"
            placeholder="Mensaje...">
    </div>
</form>